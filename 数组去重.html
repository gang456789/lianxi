<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<head>
	<title>数组去重</title>
	<script src="https://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>
	<script src="https://cdn.bootcss.com/bootstrap/3.0.1/js/bootstrap.min.js"></script>
	<script>
		function ff(nn,one,all,key){
			// debugger
			var flag = false;
			for (var k = 0; k < one.length; k++) {
				if (all[nn][key] == one[k][key]) {
					flag = true;
					// break inner;
				}
			}
			return flag;
		}
		Array.prototype.unique = function(key) {
			var arr = this;
			var n = [arr[0]];
			for (var i = 1; i < arr.length; i++) {
				if (key === undefined) {
					if (n.indexOf(arr[i]) == -1) n.push(arr[i]);
				} else {
					// inner: {
					// 	var has = false;
					// 	for (var j = 0; j < n.length; j++) {
					// 		if (arr[i][key] == n[j][key]) {
					// 			has = true;
					// 			break inner;
					// 		}
					// 	}
					// }
					// if (!has) {
					// 	n.push(arr[i]);
					// }
					if (!ff(i,n,arr,key)) {
						n.push(arr[i]);
					}
				}
			}
			return n;
		}
		var ddd = [1,2,3,4,3,2];
		console.log(ddd.unique())
		var sss = [3,6,8,9,3,6,0,2,6];
		console.log(sss.unique());
		var ggg = [{zz:22},{zz:44},{zz:34}];
		console.log(ggg.unique('zz'))
		var gggd = [{zz:22},{zz:44},{dz:34}];
		console.log(gggd.unique('zz'))
		var gggc = [{zz:22},{zz:44},{dz:34},{zz:22}];
		console.log(gggc.unique('zz'))
	</script>

	<style>

	</style>
</head>

<body>
	
</body>

</html>